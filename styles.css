/* ========================================================================
   /styles.css — HEIKO HAERTER • 2026
   Mobile-first • Accessible • Performance-first • Vanilla CSS
   ======================================================================== */
@layer tokens, base, components, utilities;

/* ===================== TOKENS ===================== */
@layer tokens {
  :root{
    /* Palette */
    --bg:#05070E; --bg-soft:#0A0F1E;
    --surface:rgba(255,255,255,.045); --surface-soft:rgba(255,255,255,.07);
    --text:#F7F8FC; --muted:#A9B2C6; --muted-soft:#8F97AA;
    --gold:#C8A44B; --gold-soft:#E9D394;
    --focus:#90C2FF;

    /* Type scale */
    --fs-h1: clamp(1.9rem, 4.4vw, 3.1rem);
    --fs-h2: clamp(1.6rem, 3.2vw, 2.2rem);
    --fs-h3: clamp(1.12rem, 2.2vw, 1.28rem);
    --fs-body: clamp(1rem, 1.15vw, 1.08rem);
    --fs-micro: .95rem;

    /* Spacing (4/8/12/16/24/32) */
    --s-1:.25rem; --s-2:.5rem; --s-3:.75rem; --s-4:1rem; --s-5:1.5rem; --s-6:2rem;
    --section-y: clamp(32px, 6vw, 72px);
    --wrap-x: clamp(16px, 5vw, 32px);
    --max-w: 1120px;

    /* Radii / Elevation / Motion */
    --r-xl:34px; --r-lg:24px; --r-md:18px; --r-sm:12px;
    --elev-1:0 18px 40px rgba(0,0,0,.35); --elev-2:0 30px 80px rgba(0,0,0,.55);
    --ease: cubic-bezier(.22,.61,.36,1);

    /* Decorative glows */
    --bg-glow-1:radial-gradient(circle at 15% -10%,rgba(200,164,75,.22),transparent 55%);
    --bg-glow-2:radial-gradient(circle at 85% 10%,rgba(120,150,255,.18),transparent 60%);

    color-scheme: dark;
  }
  @media (prefers-contrast: more) {
    :root { --surface: rgba(255,255,255,.08); --surface-soft: rgba(255,255,255,.12) }
  }
}

/* ===================== BASE ===================== */
@layer base {
  *,:before,:after{box-sizing:border-box}
  html{-webkit-text-size-adjust:100%;text-size-adjust:100%}
  html,body{height:auto;overflow-x:hidden;margin:0}
  body{
    font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",system-ui,sans-serif;
    background:var(--bg-glow-1),var(--bg-glow-2),linear-gradient(180deg,#04050A,#02040A 60%);
    color:var(--text); -webkit-font-smoothing:antialiased; line-height:1.5; hyphens:auto;
  }
  img,picture,svg,video{display:block;max-width:100%;height:auto;content-visibility:auto;contain-intrinsic-size:1200px 800px}
  a{color:inherit;text-decoration:none}
  a:focus-visible,button:focus-visible,input:focus-visible,select:focus-visible,textarea:focus-visible{
    outline:3px solid var(--focus);outline-offset:3px;border-radius:10px;
  }
  ::selection{background:rgba(233,211,148,.25)}
  @media (prefers-reduced-motion: reduce){
    *{animation: none !important; transition: none !important; scroll-behavior: auto !important}
  }
}

/* ===================== LAYOUT ===================== */
@layer components {
  .section{padding:var(--section-y) 0}
  .container{max-width:var(--max-w);margin-inline:auto;padding-inline:var(--wrap-x)}
  .grid{display:grid;gap: clamp(.6rem,2.2vw,1.2rem)}
  .stack{display:flex;flex-direction:column;gap: clamp(.5rem,1.8vw,.95rem)}
  .auto-grid{grid-template-columns:repeat(auto-fit,minmax(min(100%,280px),1fr))}
}

/* ===================== TYPE ===================== */
@layer components {
  h1,h2,h3{margin:0 0 .9rem;font-weight:800;letter-spacing:-.01em}
  h1{font-size:var(--fs-h1);line-height:1.12}
  h2{font-size:var(--fs-h2)}
  h3{font-size:var(--fs-h3)}
  p{margin:0 0 .6rem;font-size:var(--fs-body);color:var(--muted)}
  .hero-micro{font-size:var(--fs-micro);color:var(--muted-soft)}
}

/* ===================== HEADER ===================== */
@layer components {
  header{position:sticky;top:0;z-index:70;background:rgba(5,8,22,.92);border-bottom:1px solid rgba(255,255,255,.08);box-shadow:0 6px 24px rgba(0,0,0,.28)}
  .header-bar{display:flex;align-items:center;justify-content:space-between;min-height:60px;padding:.85rem 0}
  .brand{display:flex;flex-direction:column;gap:.18rem}
  .brand-top{display:flex;align-items:center;gap:.55rem;font-weight:700;font-size:1.02rem}
  .brand-dot{width:.9rem;height:.9rem;border-radius:999px;background:conic-gradient(from 210deg,var(--gold),var(--gold-soft),var(--gold));box-shadow:0 0 0 5px rgba(200,164,75,.25),0 0 26px rgba(200,164,75,.65)}
}

/* ===================== HERO ===================== */
@layer components {
  .hero{padding-top: clamp(28px,4vw,64px); padding-bottom: clamp(16px,2.5vw,28px)}
  .hero-grid{display:grid;gap: clamp(1.2rem,3vw,2.4rem)}
  @media (min-width:1024px){ .hero-grid{grid-template-columns:1.05fr .95fr; align-items:center} }
}

/* ===================== BUTTONS ===================== */
@layer components {
  .btn{
    display:inline-flex;align-items:center;justify-content:center;
    padding:clamp(.9rem,1.2vw,1rem) clamp(1.2rem,2vw,1.7rem);
    border-radius:999px;border:1px solid transparent;cursor:pointer;min-height:48px;font-weight:800;
    transition: transform .18s var(--ease), box-shadow .18s var(--ease), filter .18s var(--ease);
    background:rgba(255,255,255,.06);color:var(--text); -webkit-tap-highlight-color: transparent;
  }
  .btn:hover{transform: translateY(-2px)}
  .btn:active{transform: translateY(0) scale(.98)}
  .btn.small{min-height:44px;padding:.6rem 1rem;font-weight:700}
  .btn-primary{background:linear-gradient(135deg,var(--gold),var(--gold-soft));color:#111;box-shadow:0 12px 28px rgba(200,164,75,.35)}
  .btn-primary:hover{box-shadow:0 18px 40px rgba(200,164,75,.40); filter: brightness(1.06)}
  .btn-ghost{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.16)}
  @media (max-width:767px){ .btn,.btn-primary,.btn-ghost{width:100%} }

  /* Ripple */
  .hh-ripple{
    position:absolute;width:18px;height:18px;background:rgba(255,255,255,.28);
    border-radius:50%;transform:translate(-50%,-50%);pointer-events:none;inset:0;
    animation: hhRipple .45s ease-out forwards;
  }
  @keyframes hhRipple { to { opacity:0; transform:translate(-50%,-50%) scale(8) } }
}

/* ===================== CARDS ===================== */
@layer components {
  .card,.premium-card,.share{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:var(--r-md);box-shadow:var(--elev-1)}
  .card{padding:1rem 1.1rem}
  .premium-card{padding:1.05rem 1.15rem}
  .story-card{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:.95rem 1.05rem}
  .safety-card{border-left:4px solid var(--gold)}
  .story-grid{display:grid;gap:1rem;margin:1.1rem 0;grid-template-columns:repeat(auto-fit,minmax(min(100%,260px),1fr))}
  .result-card{border-radius:18px;padding:1.1rem 1.2rem;margin-top:1rem;box-shadow:0 18px 40px rgba(0,0,0,.35)}
}

/* ===================== STICKY CTA ===================== */
@layer components {
  .sticky-cta{position:fixed;left:0;right:0;bottom:18px;z-index:68;display:none;justify-content:center;transform:translateY(100%);opacity:0;transition: transform .25s var(--ease), opacity .25s var(--ease)}
  .sticky-cta .inner{background:rgba(10,14,22,.98);border:1px solid rgba(233,211,148,.28);padding:.55rem;border-radius:999px;box-shadow:0 12px 38px rgba(0,0,0,.55)}
  @media (max-width:1023px){ .sticky-cta{display:flex} }
  @supports (bottom: env(safe-area-inset-bottom)){ .sticky-cta{padding-bottom:calc(env(safe-area-inset-bottom) + 6px)} }
  .sticky-cta.show{transform:translateY(0);opacity:1}
}

/* ===================== FX / STATE ===================== */
@layer components {
  .fade-up{opacity:0;transform:translateY(18px)}
  .fade-up.visible{opacity:1;transform:none;transition: opacity .5s var(--ease), transform .5s var(--ease)}
  .visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);border:0;white-space:nowrap}
}

/* ===================== RESULT COLORS ===================== */
@layer components {
  .result-red{background:#2b1111;border:1px solid #c85151}
  .result-yellow{background:#2b2b11;border:1px solid #d6c45a}
  .result-green{background:#0f1b12;border:1px solid #55b76b}
}

/* ===================== UTILITIES ===================== */
@layer utilities {
  html{ scroll-behavior:smooth }
  .tap-none{ -webkit-tap-highlight-color: transparent }
}
