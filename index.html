<!-- =========================
File: index.html  (Startseite)
========================= -->
<!DOCTYPE html>
<html lang="de" class="no-js" translate="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <title>2 Minuten â€“ zeigt sofort, was heute wichtig ist.</title>
  <meta name="description" content="Ruhiger 2-Minuten-Blick: zeigt, was heute ansteht â€“ anonym, ohne Unterlagen, ohne Verkauf." />
  <link rel="canonical" href="https://heikohaerter.com" />

  <!-- Open Graph -->
  <meta property="og:site_name" content="Heiko Haerter â€“ PersÃ¶nliche Finanzbegleitung" />
  <meta property="og:title" content="2 Minuten â€“ zeigt sofort, was heute wichtig ist." />
  <meta property="og:description" content="Ein kurzer Blick: sofort sehen, ob heute etwas Wichtiges fehlt â€“ anonym & ohne Verpflichtung." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://heikohaerter.com" />
  <meta property="og:locale" content="de_DE" />
  <meta property="og:image" content="https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="theme-color" content="#05070E" />

  <!-- Preconnect -->
  <link rel="preconnect" href="https://static.wixstatic.com" crossorigin />
  <link rel="preconnect" href="https://wa.me" crossorigin />

  <!-- LCP Preload -->
  <link
    rel="preload"
    as="image"
    href="https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png"
    imagesrcset="
      https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png?width=480 480w,
      https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png?width=720 720w,
      https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png?width=900 900w,
      https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png?width=1200 1200w
    "
    imagesizes="(min-width: 1024px) 52vw, 92vw"
    fetchpriority="high"
  />

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Person","name":"Heiko Haerter","jobTitle":"Finanzbegleiter","url":"https://heikohaerter.com","image":"https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png","areaServed":"Deutschland"}
  </script>

  <style>
    :root{
      --bg:#05070E; --bg-soft:#0A0F1E;
      --surface:rgba(255,255,255,.045); --surface-soft:rgba(255,255,255,.06);
      --text:#F7F8FC; --muted:#A8B1C5; --muted-soft:#8F97AA;
      --gold:#C8A44B; --gold-soft:#E9D394;
      --focus:#90C2FF;
      --radius-xl:34px; --radius-lg:24px; --radius-md:18px; --radius-sm:12px;
      --elev-1:0 18px 40px rgba(0,0,0,.35); --elev-2:0 30px 80px rgba(0,0,0,.55);
      --ease:cubic-bezier(.25,.46,.25,1);
      --bg-glow-1:radial-gradient(circle at 15% -10%,rgba(200,164,75,.22),transparent 55%);
      --bg-glow-2:radial-gradient(circle at 85% 10%,rgba(120,150,255,.18),transparent 60%);
      --aurora-1: conic-gradient(from 180deg at 30% 15%, rgba(120,160,255,.22), transparent 55%);
      --aurora-2: conic-gradient(from 0deg at 70% 10%, rgba(200,164,75,.18), transparent 60%);
      --noise: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width=\"120\" height=\"120\" viewBox=\"0 0 120 120\"><filter id=\"n\"><feTurbulence type=\"fractalNoise\" baseFrequency=\"0.95\" numOctaves=\"2\" stitchTiles=\"stitch\"/></filter><rect width=\"100%\" height=\"100%\" filter=\"url(%23n)\" opacity=\".04\"/></svg>');
    }
    html,body{height:auto;overflow-x:hidden}
    *,*::before,*::after{box-sizing:border-box}

    html{-webkit-text-size-adjust:100%;text-size-adjust:100%}
    body{
      margin:0;font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",system-ui,sans-serif;
      background:var(--bg-glow-1),var(--bg-glow-2),linear-gradient(180deg,#04050A,#02040A 60%);
      color:var(--text); -webkit-font-smoothing:antialiased; line-height:1.45; hyphens:auto; position:relative;
    }
    /* animated aurora + noise */
    @media (prefers-reduced-motion:no-preference){
      body::before{
        content:""; position:fixed; inset:-20vmax; z-index:-1; pointer-events:none; opacity:.9;
        background:var(--aurora-1),var(--aurora-2); filter:blur(40px) saturate(110%);
        animation: aurora 16s linear infinite;
      }
      @keyframes aurora { to { transform: rotate(360deg); } }
    }
    body::after{content:""; position:fixed; inset:0; pointer-events:none; z-index:0; background-image:var(--noise); background-size:120px 120px; opacity:.55;}

    h1,h2,h3,.chip,.btn{word-break:normal;overflow-wrap:break-word}
    a{color:inherit;text-decoration:none}
    a:focus-visible,button:focus-visible{outline:3px solid var(--focus);outline-offset:3px;border-radius:10px}
    img,picture,svg,video{display:block;max-width:100%;height:auto}
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}
    }

    /* Layout */
    .section{padding:clamp(32px,6vw,72px) 0}
    .container{max-width:1120px;margin-inline:auto;padding-inline:clamp(16px,5vw,32px)}
    .grid{display:grid;gap:clamp(.6rem,2.2vw,1.2rem)}
    .stack{display:flex;flex-direction:column;gap:clamp(.5rem,1.8vw,1rem)}
    .auto-grid{grid-template-columns:repeat(auto-fit,minmax(min(100%,280px),1fr))}

    /* Type */
    h1,h2,h3{margin:0 0 .9rem;font-weight:800;letter-spacing:-.01em}
    h1{font-size:clamp(1.95rem,4vw,3.05rem);line-height:1.12}
    h2{font-size:clamp(1.6rem,3vw,2.2rem)}
    h3{font-size:clamp(1.12rem,2vw,1.28rem)}
    p{margin:0 0 .6rem;font-size:clamp(1rem,1.2vw,1.08rem);color:var(--muted)}
    .hero-micro{font-size:clamp(.96rem,1.1vw,1rem);color:var(--muted-soft)}
    .system-tagline{margin-top:.6rem;font-size:.98rem;color:var(--muted-soft);max-width:620px}

    /* Buttons */
    .btn{position:relative;display:inline-flex;align-items:center;justify-content:center;padding:clamp(.9rem,1.2vw,1rem) clamp(1.2rem,2vw,1.7rem);
         border-radius:999px;border:1px solid transparent;cursor:pointer;min-height:48px;font-weight:900;
         transition:transform .18s var(--ease),box-shadow .18s var(--ease),filter .18s var(--ease);background:rgba(255,255,255,.06);color:var(--text);-webkit-tap-highlight-color:transparent}
    .btn-primary{background:linear-gradient(135deg,var(--gold),var(--gold-soft));color:#111;box-shadow:0 12px 28px rgba(200,164,75,.35)}
    .btn-primary:hover{transform:translateY(-1px);box-shadow:0 18px 40px rgba(200,164,75,.40);filter:brightness(1.04)}
    .btn-ghost{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.16)}
    .btn.small{min-height:44px;padding:.6rem 1rem;font-weight:700}
    @media (max-width:767px){ .btn,.btn-primary,.btn-ghost{width:100%} }
    @keyframes pulse{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(0) scale(1.02)}}
    .pulse{animation:pulse 1600ms ease-in-out 1}

    /* Cards */
    .card,.premium-card,.share{position:relative;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:18px;box-shadow:var(--elev-1)}
    .card{padding:1rem 1.1rem}
    .premium-card{padding:1.05rem 1.15rem}
    .story-card{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:.95rem 1.05rem}
    .premium-card::after,.story-card::after{content:"";position:absolute;inset:-200% -50% auto -50%;height:60%;transform:rotate(12deg);background:linear-gradient(90deg,transparent,rgba(255,255,255,.14),transparent);opacity:0;transition:opacity .25s var(--ease)}
    .premium-card:hover::after,.story-card:hover::after{opacity:1;animation:shine 1.2s var(--ease)}
    @keyframes shine {to{transform:translateX(160%) rotate(12deg)}}
    .safety-card{border-left:4px solid var(--gold)}
    .tg-card{margin-top:.8rem}
    .story-grid{display:grid;gap:1rem;margin:1.1rem 0;grid-template-columns:repeat(auto-fit,minmax(min(100%,260px),1fr))}
    .result-card{border-radius:18px;padding:1.1rem 1.2rem;margin-top:1rem;box-shadow:0 18px 40px rgba(0,0,0,.35)}

    /* Chips */
    .chip{display:inline-flex;align-items:center;gap:.45rem;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);border-radius:999px;padding:.4rem .7rem;font-size:.92rem;color:var(--muted-soft)}
    .bar{display:flex;flex-wrap:wrap;gap:.6rem}

    /* Header */
    header{position:sticky;top:0;z-index:70;backdrop-filter:saturate(120%) blur(10px);background:linear-gradient(180deg,rgba(8,10,18,.88),rgba(8,10,18,.72));border-bottom:1px solid rgba(255,255,255,.08);box-shadow:0 6px 24px rgba(0,0,0,.28)}
    .header-bar{display:flex;align-items:center;justify-content:space-between;min-height:60px;padding:.85rem 0}
    .brand{display:flex;flex-direction:column;gap:.18rem}
    .brand-top{display:flex;align-items:center;gap:.55rem;font-weight:700;font-size:1.02rem}
    .brand-dot{width:.9rem;height:.9rem;border-radius:999px;background:conic-gradient(from 210deg,var(--gold),var(--gold-soft),var(--gold));box-shadow:0 0 0 5px rgba(200,164,75,.25),0 0 26px rgba(200,164,75,.65)}

    /* Hero */
    .hero{padding-top:clamp(28px,4vw,64px);padding-bottom:clamp(16px,2.5vw,28px)}
    .hero-grid{display:grid;gap:clamp(1.2rem,3vw,2.4rem)}
    @media (min-width:1024px){ .hero-grid{grid-template-columns:1.05fr .95fr;align-items:center} }
    .tilt-wrap{transform-style:preserve-3d}
    .tilt-img{will-change:transform; border-radius:24px; box-shadow:var(--elev-2)}

    /* Sticky CTA */
    .sticky-cta{position:fixed;left:0;right:0;bottom:18px;z-index:68;display:none;justify-content:center;transform:translateY(100%);opacity:0;transition:transform .25s var(--ease),opacity .25s var(--ease)}
    .sticky-cta .inner{background:rgba(10,14,22,.98);border:1px solid rgba(233,211,148,.28);padding:.55rem;border-radius:999px;box-shadow:0 12px 38px rgba(0,0,0,.55)}
    @media (max-width:1023px){ .sticky-cta{display:flex} }
    @supports (bottom: env(safe-area-inset-bottom)){ .sticky-cta{padding-bottom:calc(env(safe-area-inset-bottom) + 6px)} }
    .sticky-cta.show{transform:translateY(0);opacity:1}

    /* FX */
    .fade-up{opacity:0;transform:translateY(18px)}
    .fade-up.visible{opacity:1;transform:none;transition:opacity .5s var(--ease),transform .5s var(--ease)}

    /* Result Farben */
    .result-red{background:#2b1111;border:1px solid #c85151}
    .result-yellow{background:#2b2b11;border:1px solid #d6c45a}
    .result-green{background:#0f1b12;border:1px solid #55b76b}

    /* Kinetic Headline word */
    .word-swap{ display:inline-block; position:relative; min-width:6.2ch }
    .word-swap b{ position:absolute; left:0; top:0; opacity:0; transform:translateY(10px); will-change:transform,opacity }
    .word-swap b.active{ opacity:1; transform:none; transition:opacity .6s var(--ease), transform .6s var(--ease) }

    /* Top progress bar (eigenes ID, kollidiert nicht mit Check-Bar) */
    .progress{position:fixed; top:0; left:0; right:0; height:3px; z-index:75; pointer-events:none; background:linear-gradient(90deg, rgba(255,255,255,.08), transparent 18%); clip-path:inset(0 100% 0 0)}
    .progress > i{display:block; height:100%; width:100%; background:linear-gradient(90deg,var(--gold),var(--gold-soft)); transform-origin:left center; transform:scaleX(0)}

    /* A11y helper */
    .visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);border:0;white-space:nowrap}
  </style>

  <noscript><style>.fade-up{opacity:1!important;transform:none!important}</style></noscript>
</head>
<body>
  <a href="#main" class="visually-hidden">Zum Inhalt springen</a>

  <!-- Scroll progress -->
  <div class="progress" aria-hidden="true"><i id="progressTop"></i></div>

  <header role="banner">
    <div class="container header-bar">
      <a href="#hero" class="brand" aria-label="Startseite">
        <div class="brand-top"><span class="brand-dot" aria-hidden="true"></span>Heiko Haerter</div>
        <span class="hero-micro" style="letter-spacing:.08em;text-transform:uppercase">PersÃ¶nliche Finanzbegleitung</span>
      </a>
      <button class="btn" id="dfBtn" type="button" aria-pressed="false" title="Nur das Wichtigste anzeigen" data-magnet>ğŸ” Kurzmodus</button>
    </div>
  </header>

  <main id="main" role="main">
    <!-- HERO -->
    <section id="hero" class="hero section fade-up" aria-labelledby="hero-title">
      <div class="container hero-grid">
        <div class="stack">
          <p class="hero-micro" style="text-transform:uppercase;letter-spacing:.14em;opacity:.9">
            2 Minuten. 3 Fragen. Deine Finanz-Ampel: GrÃ¼n, Gelb oder Rot.
          </p>

          <h1 id="hero-title">
            In 2 Minuten sehen, ob heute bei deinen Finanzen etwas
            <span class="word-swap" aria-live="polite">
              <b class="active">Wichtiges fehlt</b>
              <b>akut ist</b>
              <b>Klarheit braucht</b>
              <b>dran ist</b>
            </span>.
          </h1>

          <p class="hero-micro system-tagline">
            Der Check ist der Einstieg in ein ruhiges Finanzsystem, das dir zeigt, was heute wichtig ist â€“ ohne Papierkram, ohne Verkauf.
          </p>

          <p class="hero-micro">
            Kein Ãœberblick bei Einkommen, Gesundheit, Haftung, Zukunft, Familie? Die Ampel sortiert das â€“ anonym & ohne Druck.
          </p>

          <div class="premium-card">
            <p class="hero-micro" style="margin:0"><strong>80 % fÃ¼hlen sich nach 2 Minuten ruhiger.</strong></p>
          </div>

          <div class="bar" role="list">
            <span class="chip" role="listitem">â­ <strong>4,9</strong> | 250+ Menschen</span>
            <span class="chip" role="listitem">Eltern Â· Paare Â· SelbststÃ¤ndige</span>
            <span class="chip" role="listitem">Kein Verkauf Â· 100 % anonym</span>
          </div>

          <div class="stack">
            <a class="btn btn-primary pulse" href="#ampel-check" id="startCheckHero" aria-describedby="hero-desc" data-magnet>âš¡ â€2-Minuten-Check startenâ€œ</a>
            <button class="btn btn-ghost" id="previewToggle" type="button" aria-controls="heroPreview" aria-expanded="false" data-magnet>Ergebnis-Vorschau ansehen</button>
            <small id="hero-desc" class="hero-micro">Anonym Â· keine Daten Â· kein Verkauf</small>
          </div>

          <div id="heroPreview" class="grid auto-grid" style="display:none">
            <div class="result-card result-green">
              <h3>ğŸŸ¢ Ampel-Beispiel</h3>
              <p class="hero-micro">Passt fÃ¼r heute Â· Als NÃ¤chstes: ruhig planen.</p>
            </div>
            <div class="result-card result-yellow">
              <h3>ğŸŸ¡ Ampel-Beispiel</h3>
              <p class="hero-micro">Bald wichtig Â· Als NÃ¤chstes angehen.</p>
            </div>
            <div class="result-card result-red">
              <h3>ğŸ”´ Ampel-Beispiel</h3>
              <p class="hero-micro">Heute wichtig Â· Kurz priorisieren.</p>
            </div>
          </div>
        </div>

        <div class="stack tilt-wrap" id="tiltWrap" aria-hidden="true">
          <picture>
            <img
              id="tiltImg"
              class="tilt-img"
              src="https://static.wixstatic.com/media/4e46cf_b23cf1a26a0f40a9a7e4e12f2b0174a9~mv2.png?width=1200"
              alt="2-Minuten-Check ohne Papierkram"
              width="1200" height="900" loading="eager" fetchpriority="high" decoding="async" />
          </picture>
        </div>
      </div>
    </section>

    <!-- ZIELGRUPPEN -->
    <section id="zielgruppen-szenen" class="section fade-up" aria-labelledby="tg-h">
      <div class="container stack">
        <div class="premium-card" aria-labelledby="tg-h">
          <h2 id="tg-h" style="margin:0 0 .35rem">Das hilft dir, wenn du â€¦</h2>
          <ul class="hero-micro" style="margin:.2rem 0 0;padding-left:1.2rem">
            <li>â€¢ keine Zeit hast, dich zu kÃ¼mmern</li>
            <li>â€¢ keine Lust auf Verkaufsrunden hast</li>
            <li>â€¢ dir unsicher bist, ob heute etwas fehlt</li>
            <li>â€¢ dich bei Finanzen Ã¼berfordert fÃ¼hlst</li>
            <li>â€¢ einfach wissen willst: Was ist jetzt wichtig?</li>
          </ul>
        </div>

        <div class="story-grid" aria-label="Mini-Szenen">
          <div class="story-card">
            <p class="hero-micro"><strong>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Szene Eltern:</strong><br>
              â€22:47 â€“ Kinder schlafen. Wieder dieses GefÃ¼hl: â€šWir mÃ¼ssten das mal klÃ¤renâ€¦â€˜ Die Ampel zeigt dir sofort, was heute wirklich wichtig ist.â€œ</p>
          </div>
          <div class="story-card">
            <p class="hero-micro"><strong>ğŸ’¬ Szene Paare:</strong><br>
              â€Ihr wollt Entscheidungen nicht blind treffen? Die Ampel zeigt klar: Jetzt Â· Als NÃ¤chstes Â· SpÃ¤ter.â€œ</p>
          </div>
          <div class="story-card">
            <p class="hero-micro"><strong>ğŸ’¼ Szene SelbststÃ¤ndige:</strong><br>
              â€Ausfall wÃ¤re ein echtes Risiko. Die Ampel zeigt dir in 2 Minuten, wo du heute verwundbar bist.â€œ</p>
          </div>
        </div>
      </div>
    </section>

    <!-- PROZESS -->
    <section id="prozess" class="section fade-up" aria-labelledby="prozess-h">
      <div class="container">
        <h2 id="prozess-h">So lÃ¤uft der Check</h2>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(min(100%,260px),1fr));margin-top:.8rem">
          <div class="premium-card"><h3>Kurz antworten (ca. 2 Minuten)</h3></div>
          <div class="premium-card"><h3>Deine Ampel sehen</h3></div>
          <div class="premium-card">
            <h3>In Ruhe entscheiden</h3>
            <p class="hero-micro" style="margin-top:.4rem">
              Du entscheidest in Ruhe, ob du etwas Ã¤ndern mÃ¶chtest oder einfach nur Klarheit mitnimmst.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- SICHERHEIT -->
    <section id="sicherheit" class="section fade-up" aria-labelledby="safe-h">
      <div class="container">
        <h2 id="safe-h">Was NICHT passiert</h2>
        <div class="premium-card safety-card">
          <ul class="hero-micro" style="margin:0;padding-left:1.2rem">
            <li>âŒ Kein Verkauf</li>
            <li>ğŸš« Keine Datenweitergabe</li>
            <li>ğŸ“ Kein Ãœberraschungsanruf</li>
            <li>ğŸ’¸ Kein Nachteil, wenn du nichts machst</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- VORHER/NACHHER -->
    <section id="before-after" class="section fade-up" aria-labelledby="ba-h">
      <div class="container">
        <h2 id="ba-h">Vorher â€“ Nachher</h2>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(min(100%,280px),1fr));margin-top:.8rem">
          <div class="card">
            <h3>Vorher</h3>
            <ul class="hero-micro" style="margin:.2rem 0 0;padding-left:1.1rem">
              <li>â€Ich hoffe, dass alles passtâ€¦â€œ</li>
              <li>â€Ich weiÃŸ nicht, wo ich anfangen soll.â€œ</li>
              <li>â€Ich schiebe es vor mir her.â€œ</li>
            </ul>
          </div>
          <div class="card">
            <h3>Nachher</h3>
            <ul class="hero-micro" style="margin:.2rem 0 0;padding-left:1.1rem">
              <li>â€Ich weiÃŸ, was heute wichtig ist.â€œ</li>
              <li>â€Ich habe Klarheit â€“ ohne Verkauf.â€œ</li>
              <li>â€Ich fÃ¼hle mich sicherer.â€œ</li>
            </ul>
          </div>
        </div>
        <div class="premium-card" style="margin-top:1.1rem">
          <p class="hero-micro" style="margin:0"><strong>Zero-Risk:</strong> Wenn dir die Ampel nichts bringt â†’ <strong>25 â‚¬</strong>.</p>
        </div>
      </div>
    </section>

    <!-- ETHOS & FINAL CTA -->
    <section id="ethos-social" class="section fade-up" aria-labelledby="ethos-h">
      <div class="container stack">
        <h2 id="ethos-h">Wer ich bin</h2>
        <div class="premium-card">
          <p class="hero-micro" style="margin:0">
            â€Ich bin Heiko. Ich habe diese Ampel gebaut, weil ich selbst diese 2-Stunden-Beratungen gehasst habe. Voller Tarife, Jargon und Verkaufsdruck.
            Heute dauert Orientierung 2 Minuten â€“ ruhig, verstÃ¤ndlich und ohne Verkauf.â€œ
          </p>
        </div>

        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(min(100%,260px),1fr))">
          <div class="story-card">
            <p class="hero-micro"><strong>Eltern</strong><br>
              â€22:47 â€“ Kinder schlafen. Wieder dieses GefÃ¼hl: â€šWir mÃ¼ssten das mal klÃ¤renâ€¦â€˜ Die Ampel zeigt dir sofort, was heute wirklich wichtig ist.â€œ</p>
          </div>
          <div class="story-card">
            <p class="hero-micro"><strong>Paare</strong><br>
              â€Ihr wollt Entscheidungen nicht blind treffen? Die Ampel zeigt klar: Jetzt Â· Als NÃ¤chstes Â· SpÃ¤ter.â€œ</p>
          </div>
          <div class="story-card">
            <p class="hero-micro"><strong>SelbststÃ¤ndige</strong><br>
              â€Ausfall wÃ¤re ein echtes Risiko. Die Ampel zeigt dir in 2 Minuten, wo du heute verwundbar bist.â€œ</p>
          </div>
        </div>

        <details class="premium-card">
          <summary style="cursor:pointer;font-weight:700">FAQ</summary>
          <p class="hero-micro" style="margin-top:.4rem">â€”</p>
        </details>

        <div style="text-align:center;max-width:720px;margin-inline:auto">
          <h2>In 2 Minuten weniger Unsicherheit. Starte jetzt.</h2>
          <a href="#ampel-check" class="btn btn-primary" id="ctaFinal" data-magnet>âš¡ Jetzt starten</a>
          <p class="hero-micro" style="margin-top:.6rem;">Anonym Â· Keine Daten Â· Kein Verkauf</p>
        </div>
      </div>
    </section>

    <!-- AMPEL-CHECK -->
    <section id="ampel-check" class="section fade-up">
      <div class="container" style="max-width:720px">
        <div class="stack" id="check-start">
          <h2>Dein 2-Minuten-Check</h2>
          <p class="hero-micro">3 kurze Fragen â†’ sofort deine Ampel.</p>
          <a class="btn btn-primary" id="startCheckBtn" data-magnet>âš¡ Jetzt starten</a>
          <small class="hero-micro" style="opacity:.8">Wenig Zeit? Der <em>Kurzmodus</em> taucht spÃ¤ter nochmal auf.</small>
        </div>

        <div id="check-steps" style="display:none;margin-top:1.2rem" role="group" aria-label="Ampel Schritte">
          <div class="premium-card" style="margin-bottom:.8rem">
            <div style="display:flex;align-items:center;justify-content:space-between;gap:.6rem;margin-bottom:.6rem">
              <strong id="stepLabel">Schritt 1 von 3</strong>
              <span class="hero-micro" id="stepHint">Kurzer Eindruck reicht.</span>
            </div>
            <div class="bar" style="width:100%;height:10px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,.12)">
              <span id="progressBar" style="display:block;height:10px;width:0;background:linear-gradient(90deg,var(--gold),var(--gold-soft));transition:width .35s var(--ease)"></span>
            </div>
          </div>

          <div class="premium-card step" data-step="1" style="display:none">
            <h3>1 Â· Wenn du 6 Monate ausfallen wÃ¼rdest â€“ wie sicher wÃ¤re euer Einkommen?</h3>
            <div class="stack">
              <button class="btn small" type="button" data-value="1" data-magnet>Wir hÃ¤tten ein echtes Problem</button>
              <button class="btn small" type="button" data-value="2" data-magnet>Wir wÃ¼rden klarkommen, aber es wÃ¤re eng</button>
              <button class="btn small" type="button" data-value="3" data-magnet>Wir wÃ¤ren stabil abgesichert</button>
            </div>
          </div>

          <div class="premium-card step" data-step="2" style="display:none">
            <h3>2 Â· Wie gut findest du wichtige Unterlagen, wenn du sie brauchst?</h3>
            <div class="stack">
              <button class="btn small" type="button" data-value="1" data-magnet>Ich suche lange / finde nichts</button>
              <button class="btn small" type="button" data-value="2" data-magnet>Finde das Meiste direkt</button>
              <button class="btn small" type="button" data-value="3" data-magnet>Finde alles, was ich brauche</button>
            </div>
          </div>

          <div class="premium-card step" data-step="3" style="display:none">
            <h3>3 Â· â€Wie wohl fÃ¼hlst du dich beim Thema Zukunft &amp; Alter?â€œ</h3>
            <div class="stack">
              <button class="btn small" type="button" data-value="1" data-magnet>Gar nicht / unsicher</button>
              <button class="btn small" type="button" data-value="2" data-magnet>Teilweise â€“ nicht sicher</button>
              <button class="btn small" type="button" data-value="3" data-magnet>FÃ¼hlt sich gut an</button>
            </div>
          </div>
        </div>

        <div id="check-result" style="display:none;margin-top:1.4rem" aria-live="polite"></div>

        <div class="premium-card" style="margin-top:1.2rem">
          <h3 style="margin:.1rem 0 .45rem;font-size:1.02rem;">Wenig Zeit?</h3>
          <p class="hero-micro" style="margin-top:.1rem">12-Sekunden-Kurzmodus: GefÃ¼hl fÃ¼r <em>Jetzt Â· Als NÃ¤chstes Â· SpÃ¤ter</em> â€“ ohne Details.</p>
          <a href="#ampel-check" class="btn btn-ghost" id="startShort" data-magnet>â±ï¸ Kurzmodus starten</a>
        </div>
      </div>
    </section>

    <!-- SHARE -->
    <section class="section fade-up" id="share" aria-labelledby="share-title">
      <div class="container">
        <h2 id="share-title">Einfach weitergeben â€“ ohne etwas erklÃ¤ren zu mÃ¼ssen</h2>
        <p class="hero-micro">Der Link Ã¼bernimmt alles: Die Person sieht anonym die Ampel â€“ ohne Unterlagen und ohne Verkauf.</p>
        <div class="premium-card" style="border:1px dashed rgba(233,211,148,.45);background:rgba(233,211,148,.08);margin:.8rem 0 1rem">
          <p class="hero-micro" style="margin:0"><strong>Zero-Risk:</strong> Wennâ€™s der Person nichts bringt, gibtâ€™s <strong>25 â‚¬</strong>.</p>
        </div>

        <div class="bar" style="margin:.4rem 0 0">
          <button class="btn seg-btn" type="button" data-seg="eltern" data-magnet>Eltern</button>
          <button class="btn seg-btn" type="button" data-seg="kolleg:innen" data-magnet>Kolleg:innen</button>
          <button class="btn seg-btn" type="button" data-seg="freunde" data-magnet>Freunde</button>
          <button class="btn seg-btn" type="button" data-seg="selbst" data-magnet>SelbststÃ¤ndige</button>
          <button class="btn seg-btn" type="button" data-seg="partner" data-magnet>Partner</button>
          <button class="btn seg-btn" type="button" data-seg="neutral" data-magnet>FÃ¼r alle</button>
        </div>

        <div class="share stack" id="shareBox" style="margin-top:1rem;padding:1rem 1.05rem">
          <h3 style="margin:.2rem 0 .25rem">Text zum Weitergeben</h3>
          <p class="hero-micro" style="margin:0 0 .6rem">Kopieren oder direkt per WhatsApp senden.</p>

          <label for="refName" class="hero-micro" style="font-size:.92rem;color:#DDE3F4">Dein Vorname (optional):</label>
          <input id="refName" name="ref" placeholder="z. B. Alex (Papa) / Dani â€“ Chef" />

          <textarea rows="6" id="refText" inputmode="text" spellcheck="false"
            data-variants='{
              "neutral":[
                "Hey, hab das gerade gesehen â€“ dachte sofort an dich. 2 Minuten â€“ zeigt, ob heute etwas fÃ¼r dich offen ist. Wennâ€™s dir nichts bringt: 25 â‚¬. {{URL}}",
                "Eine neutrale EinschÃ¤tzung: anonym & ohne Verpflichtung. Du siehst gleich, wie es fÃ¼r heute wirkt. {{URL}}",
                "Falls du dieses â€Ich mÃ¼sste mich mal kÃ¼mmernâ€¦â€œ kennst â€“ hier bekommst du in 2 Min ein GefÃ¼hl fÃ¼r heute. {{URL}}"
              ],
              "eltern":[
                "Kurz fÃ¼r Eltern (2 Min): zeigt, ob heute etwas offen ist â€“ ohne Verkauf. Wennâ€™s nichts bringt: 25 â‚¬. {{URL}}",
                "Anonym sehen, ob fÃ¼r die Familie heute etwas ansteht â€“ ohne Druck. {{URL}}"
              ],
              "kolleg:innen":[
                "2-Minuten-Blick fÃ¼r die To-do-Liste: zeigt dir, ob heute etwas offen ist â€“ ohne Tarifkram. {{URL}}",
                "Nutze ich selbst als kurzen Blick ohne Aufwand. Vielleicht hilftâ€™s dir auch. {{URL}}"
              ],
              "freunde":[
                "Hey, kurzer Blick (2 Min), komplett anonym â€“ zeigt dir, was heute wichtig sein kÃ¶nnte. {{URL}}",
                "Hab das gesehen & dachte an dich â€“ null Druck, einfach hilfreich. {{URL}}"
              ],
              "selbst":[
                "FÃ¼r SelbststÃ¤ndige: kurzer 2-Minuten-Blick, ob gerade etwas ansteht â€“ ohne Verkauf. {{URL}}"
              ],
              "partner":[
                "Magst du kurz schauen (2 Min), ob fÃ¼r heute etwas ansteht? {{URL}}"
              ]
            }'
          ></textarea>

          <div class="bar">
            <button type="button" id="readyMsg" class="btn btn-primary" data-magnet>âœ¨ Fertigen Text Ã¼bernehmen</button>
            <button type="button" id="magicLine" class="btn" data-magnet>+ Beliebten Start-Satz einfÃ¼gen</button>
          </div>

          <div class="premium-card">
            <strong style="display:block;font-size:.85rem;color:var(--muted-soft);margin-bottom:.3rem">WhatsApp-Vorschau</strong>
            <div id="waPreviewText" class="hero-micro">Wird erstelltâ€¦</div>
          </div>

          <p class="hero-micro">
            Tipp: Eine persÃ¶nliche Zeile wirkt immer besser.
            <button type="button" id="addPersonal" class="btn" style="padding:.4rem .7rem" data-magnet>+ PersÃ¶nliche Zeile</button>
          </p>

          <div class="bar">
            <button class="btn btn-ghost" id="copyBtn" type="button" data-magnet>ğŸ“‹ Text kopieren</button>
            <a id="waShare" class="btn btn-primary" href="https://wa.me/?text=" target="_blank" rel="noopener" data-magnet>ğŸ’¬ WhatsApp</a>
            <button class="btn btn-ghost" id="nativeShare" type="button" data-magnet>ğŸ“² System-Teilen</button>
            <a id="mailShare" class="btn btn-ghost" href="mailto:?subject=Kurzer%20Blick&body=" data-magnet>âœ‰ï¸ Mail</a>
          </div>
          <small class="hero-micro">ZÃ¤hlt ab: ErstgesprÃ¤ch â€“ kein Abschluss nÃ¶tig.</small>
        </div>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="container" style="text-align:center">
      <div style="margin-bottom:.6rem">Â© <span id="yearNow">2026</span> Heiko Haerter â€“ PersÃ¶nliche Finanzbegleitung Â· <a href="/impressum">Impressum</a> Â· <a href="/datenschutz">Datenschutz</a></div>
      <div class="hero-micro">Privates DankeschÃ¶n â€“ unabhÃ¤ngig von Organisationen. Keine DVAG-Aktion.</div>
    </div>
  </footer>

  <!-- Sticky Mobile CTA -->
  <div class="sticky-cta" id="stickyCTA" aria-hidden="true">
    <div class="inner"><a href="#ampel-check" class="btn btn-primary" data-ctx="sticky" data-magnet>âš¡ 2-Minuten-Check</a></div>
  </div>

  <!-- Whisper CTA -->
  <div class="whisper" id="whisper" role="status" aria-live="polite" style="position:fixed;left:18px;bottom:18px;z-index:70;background:rgba(11,15,22,.92);border:1px solid rgba(255,255,255,.14);color:#F6F7FB;border-radius:14px;padding:.6rem .8rem;box-shadow:0 12px 28px rgba(0,0,0,.38);opacity:0;transform:translateY(10px);transition:opacity .25s var(--ease), transform .25s var(--ease)">ğŸŸ¡ 10 Sekunden â€“ jemand weiÃŸ morgen, was ansteht.</div>

  <script>
    /* ========= BOUNDED LOGGER ========= */
    (function(){
      class BoundedQueue {
        constructor(capacity, policy = "drop-old") {
          if (!Number.isFinite(capacity) || capacity <= 0) throw new Error("capacity>0");
          this.capacity = capacity; this.policy = policy; this.buf = [];
        }
        enqueue(x){
          if (this.buf.length < this.capacity) { this.buf.push(x); return true; }
          if (this.policy === "drop-old") { this.buf.shift(); this.buf.push(x); return true; }
          return false;
        }
        dequeue(){ return this.buf.shift(); }
        isEmpty(){ return this.buf.length === 0; }
      }
      const state = { queue: new BoundedQueue(200, "drop-old"), dropped: 0, running: false, id: null, sink: (line)=>console.log(line) };
      function startConsumer(){
        if (state.running) return;
        state.running = true;
        state.id = window.setInterval(()=>{
          let i=0;
          while(!state.queue.isEmpty() && i<50){
            const line = state.queue.dequeue();
            if (line) state.sink(line); i++;
          }
        }, 60);
      }
      function init(opts){
        if (opts?.capacity || opts?.policy){ state.queue = new BoundedQueue(opts.capacity ?? 200, opts.policy ?? "drop-old"); }
        if (opts?.sink) state.sink = opts.sink;
        startConsumer();
      }
      function log(msg){
        const ok = state.queue.enqueue(`[LOG ${new Date().toISOString()}] ${msg}`);
        if(!ok) state.dropped++;
      }
      function droppedCount(){ return state.dropped; }
      function stop(){ if(state.id!==null){ clearInterval(state.id); state.id=null; } state.running=false; }
      window.Log = { init, log, droppedCount, stop };
      init({ capacity: 200, policy: "drop-old" });
    })();
    /* ========= /BOUNDED LOGGER ========= */

    document.documentElement.classList.remove('no-js');
    document.querySelectorAll('#yearNow').forEach(el=> el.textContent=new Date().getFullYear());

    /* Fade-in */
    (function(){
      const pref=matchMedia('(prefers-reduced-motion: reduce)').matches;
      const els=[...document.querySelectorAll('.fade-up')];
      if(pref || !('IntersectionObserver' in window)){els.forEach(el=>el.classList.add('visible'));return;}
      const io=new IntersectionObserver(ents=>ents.forEach(e=>{
        if(e.isIntersecting){e.target.classList.add('visible');io.unobserve(e.target);}
      }),{threshold:.12,rootMargin:'0px 0px -10% 0px'});
      els.forEach(el=>io.observe(el));
    })();

    /* Scroll progress (Top) â€“ eigene ID! */
    (function(){
      const bar=document.getElementById('progressTop'); if(!bar) return;
      const max = () => Math.max(1, document.documentElement.scrollHeight - innerHeight);
      const onScroll=()=>{ const p = Math.min(1, scrollY / max()); bar.style.transform = `scaleX(${p})`; };
      addEventListener('scroll', onScroll, {passive:true}); addEventListener('resize', onScroll, {passive:true}); onScroll();
    })();

    /* Sticky CTA (nur Mobile/Tablet) */
    (function(){
      const el=document.getElementById('stickyCTA');
      const hero=document.querySelector('.hero');
      if(!el||!hero) return;
      if(innerWidth>=1024) return;
      const show=v=>{
        el.classList.toggle('show', v);
        el.setAttribute('aria-hidden', String(!v));
      };
      if('IntersectionObserver'in window){
        const io=new IntersectionObserver(([e])=>show(!e.isIntersecting),{threshold:.35});
        io.observe(hero);
        addEventListener('scroll',()=>{ if(scrollY>200) show(true); },{passive:true});
      }else{
        addEventListener('scroll',()=>show(scrollY>200),{passive:true});
      }
    })();

    /* Kurzmodus */
    (function(){
      const btn=document.getElementById('dfBtn');
      if(!btn) return;
      const keep=new Set(['hero','ethos-social','stickyCTA','share','ampel-check']);
      const nodes=[...document.querySelectorAll('main > section')].filter(s=>!keep.has(s.id));
      const set=(on)=>{
        btn.setAttribute('aria-pressed',on?'true':'false');
        btn.textContent=on?'âœ… Kurzmodus aktiv':'ğŸ” Kurzmodus';
        nodes.forEach(n=>n.style.display=on?'none':'');
        if(on) window.scrollTo({top:0,behavior:'smooth'});
        Log.log(`ui:kurzmodus:${on?'on':'off'}`);
      };
      btn.addEventListener('click',()=>set(btn.getAttribute('aria-pressed')!=='true'));
      window.setKurzmodus=set;
    })();

    /* Ergebnis-Vorschau Toggle */
    (function(){
      const btn=document.getElementById('previewToggle');
      const box=document.getElementById('heroPreview');
      if(!btn||!box) return;
      btn.addEventListener('click',()=>{
        const currentlyHidden = (box.style.display==='none') || (getComputedStyle(box).display==='none');
        const open = currentlyHidden;
        box.style.display = open ? 'grid' : 'none';
        btn.setAttribute('aria-expanded', String(open));
        Log.log(`ui:preview:${open?'open':'close'}`);
      });
    })();

    /* VIP-like kinetic Headline (Wordswap) */
    (function(){
      const box=document.querySelector('.word-swap'); if(!box) return;
      const words=[...box.querySelectorAll('b')]; if(words.length<2) return;
      let i=0; setInterval(()=>{ words[i].classList.remove('active'); i=(i+1)%words.length; words[i].classList.add('active'); }, 2200);
    })();

    /* Magnetic buttons (pointer) */
    (function(){
      if(matchMedia('(hover:hover)').matches===false) return;
      const els=[...document.querySelectorAll('[data-magnet]')];
      const damp=18;
      function move(e){
        const r=this.getBoundingClientRect();
        const x=e.clientX - (r.left + r.width/2);
        const y=e.clientY - (r.top + r.height/2);
        this.style.transform = `translate(${x/damp}px, ${y/damp}px)`;
      }
      function leave(){ this.style.transform='translate(0,0)'; }
      els.forEach(el=>{ el.addEventListener('pointermove', move); el.addEventListener('pointerleave', leave); });
    })();

    /* 3D Tilt im Hero */
    (function(){
      const wrap=document.getElementById('tiltWrap'); const img=document.getElementById('tiltImg');
      if(!wrap || !img || matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      wrap.addEventListener('pointermove', (e)=>{
        const r=wrap.getBoundingClientRect();
        const rx = ((e.clientY - r.top) / r.height - .5) * -8;
        const ry = ((e.clientX - r.left) / r.width - .5) * 10;
        img.style.transform = `perspective(800px) rotateX(${rx}deg) rotateY(${ry}deg) translateZ(8px)`;
      });
      wrap.addEventListener('pointerleave', ()=> img.style.transform='');
    })();

    /* Whisper once */
    (function(){
      const KEY='hh_whisper_seen_v4';
      try{
        if(sessionStorage.getItem(KEY)) return;
        const w=document.getElementById('whisper'); if(!w) return;
        setTimeout(()=>{ w.style.opacity='1'; w.style.transform='translateY(0)'; Log.log('whisper:show');
          setTimeout(()=>{ w.style.opacity='0'; w.style.transform='translateY(10px)'; }, 4200);
          sessionStorage.setItem(KEY,'1');
        }, 16000);
      }catch(_){}
    })();

    /* Share composer (mit Micro-Confetti beim Kopieren) */
    (function(){
      const name = document.getElementById('refName');
      const area = document.getElementById('refText');
      const wa   = document.getElementById('waShare');
      const mail = document.getElementById('mailShare');
      const copy = document.getElementById('copyBtn');
      const preview = document.getElementById('waPreviewText');
      if(!area || !wa || !mail || !preview) return;

      /* tiny confetti */
      function confetti(node){
        if(matchMedia('(prefers-reduced-motion: reduce)').matches) return;
        const r=node.getBoundingClientRect();
        const cx=r.left + r.width/2, cy=r.top + r.height/2 + scrollY;
        for(let i=0;i<16;i++){
          const s=document.createElement('i');
          Object.assign(s.style,{
            position:'absolute', left: cx+'px', top: cy+'px', width:'6px', height:'10px',
            background: `hsl(${(i*36)%360} 80% 60%)`, borderRadius:'2px', pointerEvents:'none', zIndex:71,
            transform:`translate(-50%,-50%) rotate(${Math.random()*360}deg)`,
            opacity:'1', transition:'transform 700ms var(--ease), opacity 700ms var(--ease)'
          });
          document.body.appendChild(s);
          const dx=(Math.random()-.5)*140, dy=(Math.random()-.9)*200;
          requestAnimationFrame(()=>{ s.style.transform=`translate(${dx}px, ${dy}px) rotate(${Math.random()*720}deg)`; s.style.opacity='0'; });
          setTimeout(()=>s.remove(),720);
        }
      }

      const KEY_REFID='hh_ref_rid_v1';
      function randomId(len=10){
        const a='abcdefghijklmnopqrstuvwxyz0123456789';
        const u=new Uint8Array(len);
        if(window.crypto && crypto.getRandomValues){ crypto.getRandomValues(u); }
        else { for(let i=0;i<len;i++) u[i]=Math.random()*256; }
        return Array.from(u,x=>a[x%a.length]).join('');
      }
      function getRefId(){
        try{ return localStorage.getItem(KEY_REFID) || (localStorage.setItem(KEY_REFID,randomId()), localStorage.getItem(KEY_REFID)); }
        catch(_){ return randomId(); }
      }
      function sanitize(n){ return n ? n.replace(/[^a-z0-9]/gi,'').toLowerCase() : ''; }

      function buildURL(){
        const base=new URL('https://heikohaerter.com');
        base.searchParams.set('utm_source','weitergeben');
        base.searchParams.set('utm_medium','share');
        base.searchParams.set('utm_campaign','check');
        const rid=getRefId(); base.searchParams.set('rid', rid);
        const alias=sanitize((name?.value||'').trim());
        if(alias) base.searchParams.set('ref', alias+'.'+rid.slice(0,5));
        return base.toString();
      }
      function variants(){ try{ return JSON.parse(area.getAttribute('data-variants')); }catch(_){ return {neutral:[]}; } }
      function detectSeg(){
        const raw=(name?.value||'').toLowerCase();
        if(/(papa|mama|vater|mutter|eltern)/.test(raw)) return 'eltern';
        if(/(chef|manager|kolleg|team|bÃ¼ro)/.test(raw)) return 'kolleg:innen';
        if(/(freund|kumpel|bff|buddy|schatz)/.test(raw)) return 'freunde';
        if(/(selbstÃ¤ndig|selbststÃ¤ndig|freelance|freiberuf)/.test(raw)) return 'selbst';
        if(/(partner|ehefrau|ehemann|verlobt)/.test(raw)) return 'partner';
        return 'neutral';
      }
      function pick(seg){ const sets=variants(); const pool=(sets[seg]||sets.neutral||[]); if(!pool.length) return ''; const i=Math.floor(Math.random()*pool.length); return pool[i]; }
      function ensureURL(text){ return /\bhttps?:\/\/\S+/i.test(text) ? text : (text.trim()+' '+buildURL()); }
      function setTextFrom(seg){ const tmpl=pick(seg||detectSeg()); if(!tmpl) return; area.value=tmpl.replace(/\{\{URL\}\}/g, buildURL()); updateLinks(); }
      function plain(){ return (area.value||'').replace(/\n+/g,' ').trim(); }
      function updateLinks(){
        const t=ensureURL(plain());
        wa.href='https://wa.me/?text='+encodeURIComponent(t);
        mail.href='mailto:?subject='+encodeURIComponent('Kurzer Blick')+'&body='+encodeURIComponent(t);
        preview.textContent = t.length<=190 ? t : t.substring(0,t.lastIndexOf(' ',190))+'â€¦';
      }

      if(!area.value){ setTextFrom('neutral'); }
      updateLinks();

      document.querySelectorAll('[data-seg]').forEach(b=> b.addEventListener('click', ()=>{
        const seg=b.getAttribute('data-seg'); setTextFrom(seg);
        Log.log(`share:seg:${seg}`);
      }));
      name?.addEventListener('input', ()=> { setTextFrom(); Log.log('share:name-input'); });
      area.addEventListener('input', ()=> { updateLinks(); Log.log('share:text-edit'); });

      document.getElementById('readyMsg')?.addEventListener('click', ()=>{
        setTextFrom();
        const toast=document.createElement('div');
        toast.textContent='Fertiger Text eingefÃ¼gt âœ”ï¸';
        toast.className='whisper';
        toast.style.cssText=document.getElementById('whisper').style.cssText;
        document.body.appendChild(toast);
        setTimeout(()=>{ toast.style.opacity='1'; toast.style.transform='translateY(0)'; },10);
        setTimeout(()=>toast.remove(),2000);
        Log.log('share:ready-text');
      });

      document.getElementById('magicLine')?.addEventListener('click', ()=>{
        const line='Hey, hab das gerade gesehen â€“ dachte sofort an dich.';
        const cur=(area.value||'').trim();
        area.value = cur ? line+'\n\n'+cur : line+'\n\n'+buildURL();
        updateLinks();
        Log.log('share:magic-line');
      });
      document.getElementById('addPersonal')?.addEventListener('click', ()=>{
        const alias=(name?.value||'').trim()||'Hey';
        area.value = (area.value||'') + `\n\n${alias.split(' ')[0]}, dachte an dich, weil â€¦`;
        updateLinks();
        Log.log('share:add-personal');
      });
      copy?.addEventListener('click', async (e)=>{
        try{ await navigator.clipboard.writeText(ensureURL(area.value)); }catch(_){ area.select(); document.execCommand && document.execCommand('copy'); }
        // micro-confetti
        (function confetti(node){
          if(matchMedia('(prefers-reduced-motion: reduce)').matches) return;
          const r=node.getBoundingClientRect();
          const cx=r.left + r.width/2, cy=r.top + r.height/2 + scrollY;
          for(let i=0;i<16;i++){
            const s=document.createElement('i');
            Object.assign(s.style,{
              position:'absolute', left: cx+'px', top: cy+'px', width:'6px', height:'10px',
              background: `hsl(${(i*36)%360} 80% 60%)`, borderRadius:'2px', pointerEvents:'none', zIndex:71,
              transform:`translate(-50%,-50%) rotate(${Math.random()*360}deg)`,
              opacity:'1', transition:'transform 700ms var(--ease), opacity 700ms var(--ease)'
            });
            document.body.appendChild(s);
            const dx=(Math.random()-.5)*140, dy=(Math.random()-.9)*200;
            requestAnimationFrame(()=>{ s.style.transform=`translate(${dx}px, ${dy}px) rotate(${Math.random()*720}deg)`; s.style.opacity='0'; });
            setTimeout(()=>s.remove(),720);
          }
        })(e.currentTarget);
        Log.log('share:copy');
      });
      document.getElementById('nativeShare')?.addEventListener('click', async ()=>{
        const t=plain(); const url=buildURL();
        if(navigator.share){ try{ await navigator.share({title:'2-Minuten-Blick', text:t, url}); }catch(_){} }
        Log.log('share:native');
      });
    })();

    /* Ampel-Check */
    (function() {
      const stepsWrap=document.getElementById('check-steps');
      const startBtn=document.getElementById('startCheckBtn');
      const resultBox=document.getElementById('check-result');
      const stepLabel=document.getElementById('stepLabel');
      const progress=document.getElementById('progressBar'); /* lokale Bar */
      const stepHint=document.getElementById('stepHint');
      if(!stepsWrap || !resultBox || !stepLabel || !progress || !stepHint) return;

      let step=1, score=0;
      const max=3;

      function updateHead(){
        stepLabel.textContent=`Schritt ${Math.min(step,max)} von ${max}`;
        const pct = max===1 ? 100 : ((Math.min(step-1,max-1))/(max-1))*100;
        progress.style.width = pct+'%';
        stepHint.textContent= step===1?'Kurzer Eindruck reicht.': step===2?'Fast geschafft.':'Letzter Klick.';
      }
      function showStep(n){
        document.querySelectorAll('#check-steps .step').forEach(s=>s.style.display='none');
        const t=document.querySelector(`#check-steps .step[data-step="${n}"]`);
        if(t){ t.style.display='block'; t.scrollIntoView({behavior:'smooth',block:'start'}); }
        updateHead();
      }

      function renderCTA(color){
        const wa='https://wa.me/4917660408380?text=';
        if(color==='red') return `<div class="stack" style="text-align:center">
          <a href="${wa}Kurz%2010%20Minuten%20sprechen" class="btn btn-primary" data-magnet>ğŸ’¬ Kurz sprechen â€“ 10 Minuten</a>
          <a href="${wa}Kurze%20Frage%20senden" class="btn btn-ghost" data-magnet>ğŸ›Ÿ Frage senden</a></div>`;
        if(color==='yellow') return `<div class="stack" style="text-align:center">
          <a href="${wa}Als%20N%C3%A4chstes%20angehen" class="btn btn-primary" data-magnet>ğŸ§­ Als NÃ¤chstes angehen</a>
          <a href="${wa}Kurze%20Frage%20senden" class="btn btn-ghost" data-magnet>ğŸ’¬ Frage senden</a></div>`;
        return `<div class="stack" style="text-align:center">
          <a href="${wa}Smarter%20machen%3F" class="btn btn-primary" data-magnet>âœ¨ Smarter machen?</a>
          <a href="#share" class="btn btn-ghost" data-magnet>ğŸ”— Weitergeben</a></div>`;
      }
      function finish(){
        stepsWrap.style.display='none';
        resultBox.style.display='block';
        let html='';
        if(score<=4){
          html=`<div class="result-card result-red">
            <h3>ğŸ”´ Heute wichtig</h3>
            <p>Mindestens ein Bereich braucht heute deine Aufmerksamkeit.</p>
            ${renderCTA('red')}
          </div>`;
        } else if(score<=7){
          html=`<div class="result-card result-yellow">
            <h3>ğŸŸ¡ Bald wichtig</h3>
            <p>Ein paar Dinge stehen bald an.</p>
            ${renderCTA('yellow')}
          </div>`;
        } else {
          html=`<div class="result-card result-green">
            <h3>ğŸŸ¢ Passt fÃ¼r heute</h3>
            <p>FÃ¼r heute wirkt alles entspannt.</p>
            ${renderCTA('green')}
          </div>`;
        }
        html+=`<p class="hero-micro" style="margin-top:.8rem;opacity:.85">Wenn dir die Ampel nichts bringt â†’ <strong>25 â‚¬</strong>.</p>`;
        resultBox.innerHTML=html;
        resultBox.scrollIntoView({behavior:'smooth',block:'start'});
        Log.log(`check:finish:score=${score}`);
      }
      function start(){
        document.getElementById('check-start')?.style.setProperty('display','none');
        stepsWrap.style.display='block';
        resultBox.style.display='none';
        step=1; score=0; showStep(step);
        Log.log('check:start');
      }

      document.getElementById('startCheckHero')?.addEventListener('click',e=>{ e.preventDefault(); start(); });
      document.getElementById('ctaFinal')?.addEventListener('click',e=>{ e.preventDefault(); start(); });
      startBtn?.addEventListener('click',start);

      document.getElementById('startShort')?.addEventListener('click',e=>{
        e.preventDefault(); start();
        setTimeout(()=>{ score+=2; step=2; showStep(step); },150);
        setTimeout(()=>{ score+=2; step=3; showStep(step); },350);
        Log.log('check:shortmode');
      });

      document.querySelectorAll('#check-steps .step').forEach(s=>{
        s.querySelectorAll('button').forEach(btn=>{
          btn.addEventListener('click', ()=>{
            score += Number(btn.getAttribute('data-value'))||0;
            Log.log(`check:answer:s${s.getAttribute('data-step')}:v=${btn.getAttribute('data-value')}`);
            step++;
            if(step>3) finish(); else showStep(step);
          }, { passive: true });
        });
      });
    })();
  </script>
</body>
</html>
